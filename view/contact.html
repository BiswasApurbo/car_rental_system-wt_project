<html>
<head>
    <title>Contact Us</title>
    <link rel="stylesheet" type="text/css" href="../asset/auth.css">
</head>
<body>
    <h1>Contact Us</h1>
    <form method="post" action="" onsubmit="return contactCheck()">
        <fieldset>
            Name:
            <input type="text" id="contactName" onblur="checkContactName()">
            <span id="nameError" class="error-msg"></span>
            <br><br>
            Email:
            <input type="text" id="contactEmail" onblur="checkContactEmail()">
            <span id="emailError" class="error-msg"></span>
            <br><br>
            Your Message:
            <br>
            <textarea id="contactMsg" rows="5" cols="40" onblur="checkContactMsg()"></textarea>
            <span id="msgError" class="error-msg"></span>
            <br><br>
            CAPTCHA: <b>7 + 2 = ?</b>
            <input type="text" id="captchaInput" style="width:50px;" onblur="checkCaptcha()">
            <span id="captchaError" class="error-msg"></span>
            <br><br>
            <input type="submit" value="Submit">
            <input type="button" value="Back to Dashboard" onclick="window.location.href='user_dashboard.php'" />
            <br>
            <span id="contactSuccess" class="dashboard-number"></span>
        </fieldset>
    </form>
    <script>
        function checkContactName() {
            let name = document.getElementById('contactName').value.trim();
            if (name === "") {
                document.getElementById('nameError').innerHTML = "Please enter your name!";
            } else {
                document.getElementById('nameError').innerHTML = "";
            }
        }
        function checkContactEmail() {
            let email = document.getElementById('contactEmail').value.trim();
            if (email === "" || !email.includes("@")) {
                document.getElementById('emailError').innerHTML = "Please enter a valid email!";
            } else {
                document.getElementById('emailError').innerHTML = "";
            }
        }
        function checkContactMsg() {
            let msg = document.getElementById('contactMsg').value.trim();
            if (msg === "") {
                document.getElementById('msgError').innerHTML = "Please type your message!";
            } else {
                document.getElementById('msgError').innerHTML = "";
            }
        }
        function checkCaptcha() {
            let captcha = document.getElementById('captchaInput').value.trim();
            if (captcha !== "9") {
                document.getElementById('captchaError').innerHTML = "Wrong answer!";
            } else {
                document.getElementById('captchaError').innerHTML = "";
            }
        }
        function contactCheck() {
            checkContactName();
            checkContactEmail();
            checkContactMsg();
            checkCaptcha();

            if (
                document.getElementById('nameError').innerHTML === "" &&
                document.getElementById('emailError').innerHTML === "" &&
                document.getElementById('msgError').innerHTML === "" &&
                document.getElementById('captchaError').innerHTML === ""
            ) {
                document.getElementById('contactSuccess').innerHTML = "Thank you! Your inquiry has been submitted.";
                document.getElementById('contactName').value = "";
                document.getElementById('contactEmail').value = "";
                document.getElementById('contactMsg').value = "";
                document.getElementById('captchaInput').value = "";
                return false;
            } else {
                document.getElementById('contactSuccess').innerHTML = "";
                return false;
            }
        }
    </script>
</body>
</html>
